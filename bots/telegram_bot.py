import logging
from telegram.ext import Updater, CommandHandler
from core.exchanges.binance import BinanceExchange
from config import Config

# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

def start(update, context):
    """Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ù…Ø± /start"""
    update.message.reply_text(
        "ðŸš€ Ø¨ÙˆØª Ø§Ù„Ù…Ø±Ø§Ø¬Ø­Ø© Ø§Ù„Ø¢Ù„ÙŠ ÙŠØ¹Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­!\n"
        "Ø£Ø±Ø³Ù„ /connect Ù„Ø±Ø¨Ø­ Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ¨Ø§Ø¯Ù„"
    )

def main():
    """Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª"""
    # ØªÙ‡ÙŠØ¦Ø© Updater Ø¨Ø¯ÙˆÙ† use_context
    updater = Updater(Config.BOT_TOKEN)
    
    # Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£ÙˆØ§Ù…Ø±
    dp = updater.dispatcher
    dp.add_handler(CommandHandler("start", start))
    
    # Ø¨Ø¯Ø¡ Ø§Ù„Ø¨ÙˆØª
    updater.start_polling()
    logger.info("ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­")
    updater.idle()

if __name__ == '__main__':
    main()